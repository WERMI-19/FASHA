# Configuration Code Analyzer Salesforce
# Documentation: https://developer.salesforce.com/docs/platform/salesforce-code-analyzer/guide/config-custom.html

config_root: null # Calculé: Répertoire courant
log_folder: null # Dossier temporaire système
log_level: 4 # Niveau Debug

# Override des règles par moteur
rules:
  retire-js: {}
  regex: {}
  eslint: {}
  cpd: {}
  sfge: {}
  pmd: {}
  flow: {}

# Configuration des moteurs d'analyse
engines:
  
  # Moteur Retire.js - Détection de vulnérabilités JS
  retire-js:
    disable_engine: false

  # Moteur Regex - Règles personnalisées par expressions régulières
  regex:
    disable_engine: false
    custom_rules: {}

  # Moteur ESLint - Analyse JavaScript/TypeScript/LWC
  eslint:
    disable_engine: false
    eslint_config_file: null
    eslint_ignore_file: null
    auto_discover_eslint_config: false
    disable_javascript_base_config: false
    disable_lwc_base_config: false
    disable_slds_base_config: false
    disable_typescript_base_config: false
    file_extensions:
      javascript: [".js", ".cjs", ".mjs"]
      typescript: [".ts"]
      html: [".html", ".htm", ".cmp"]
      other: []

  # Moteur CPD - Détection de code dupliqué
  cpd:
    disable_engine: false
    java_command: null # Calculé: "/Library/Java/JavaVirtualMachines/jdk-21.jdk/Contents/Home/bin/java"
    file_extensions:
      apex: [".cls", ".trigger"]
      html: [".html", ".htm", ".xhtml", ".xht", ".shtml", ".cmp"]
      javascript: [".js", ".cjs", ".mjs"]
      typescript: [".ts"]
      visualforce: [".page", ".component"]
      xml: [".xml"]
    minimum_tokens:
      apex: 100
      html: 100
      javascript: 100
      typescript: 100
      visualforce: 100
      xml: 100
    skip_duplicate_files: false

  # Moteur SFGE - Analyse de graphe Salesforce (Preview)
  sfge:
    disable_engine: false
    disable_limit_reached_violations: false
    java_command: null # Calculé: "/Library/Java/JavaVirtualMachines/jdk-21.jdk/Contents/Home/bin/java"
    java_max_heap_size: null
    java_thread_count: 4
    java_thread_timeout: 900000

  # Moteur PMD - Analyse Apex/HTML/JavaScript
  pmd:
    disable_engine: false
    java_command: null # Calculé: "/Library/Java/JavaVirtualMachines/jdk-21.jdk/Contents/Home/bin/java"
    file_extensions:
      apex: [".cls", ".trigger"]
      html: [".html", ".htm", ".xhtml", ".xht", ".shtml", ".cmp"]
      javascript: [".js", ".cjs", ".mjs"]
      typescript: [".ts"]
      visualforce: [".page", ".component"]
      xml: [".xml"]
    java_classpath_entries: []
    custom_rulesets: []

  # Moteur Flow - Analyse des flows Salesforce
  flow:
    disable_engine: false
    python_command: null # Calculé: "python3"